@page
@model Cinemo.Pages.Admin.ShowTime.UpdateModel

@using Cinemo.Models;

@{
  var types = new[] {
    new {
      label = "Subtitles",
      value = "subtitles"
    },
    new {
      label = "Dubbed",
      value = "dubbed"
    },
    new {
      label = "Vietnamese",
      value = "vietnamese"
    }
  };

  DateTime time = DateTime.Now;
  string format = "HH:mm - dd/MM/yyyy";
}

@section Scripts {
  <script>
    $(document).ready(function () {
      $('#datetimepicker').flatpickr({
        enableTime: true,
        time_24hr: true,
        dateFormat: "H:i - d/m/Y",
        minDate: "today",
        locale: {
          firstDayOfWeek: 1
        }
      });
    })
  </script>
}

<div class="row no-gutters justify-content-center align-self-center m-auto">
  <div style="width: 650px">
    <a href="/Admin/ShowTimes">
      <i class="fa fa-arrow-left mr-1"></i>Back to Show Times
    </a>

    <div class="display-4 text-center">
      Change show time
    </div>

    <hr class="my-4">

    <form method="POST" class="needs-validation">
      @*<partial name="Shared/_ErrorAlert" model="@Model.ErrorMessage" />*@

      <div class="form-group row mx-0">
        <label class="col-sm-2 col-form-label mr-sm-1 pl-0">Theater</label>
        <div class="input-group col">
          <select required
                  class="selectpicker d-block col p-0"
                  title="Choose theater"
                  data-style="custom-select"
                  data-size="5"
                  data-live-search="true"
                  data-live-search-normalize="true"
                  data-live-search-placeholder="Search...">
            <option value="theater-1">Cinemo 3 Tháng 2</option>
            <option value="theater-2">Cinemo Cách Mạng Tháng 8</option>
            <option value="theater-3">Cinemo Thành Thái</option>
          </select>
        </div>
      </div>

      <div class="form-group row mx-0">
        <label class="col-sm-2 col-form-label mr-sm-1 pl-0">Movie</label>
        <div class="input-group col">
          <select required
                  class="selectpicker d-block col p-0"
                  title="Choose movie"
                  data-style="custom-select"
                  data-size="5"
                  data-live-search="true"
                  data-live-search-normalize="true"
                  data-live-search-placeholder="Search...">
            <option value="movie-1">Movie 1</option>
            <option value="movie-2">Movie 2</option>
            <option value="movie-3">Movie 3</option>
          </select>
        </div>
      </div>

      <div class="form-group row mx-0">
        <label class="col-2 col-form-label mr-sm-1 pl-0">Extra price</label>
        <div class="input-group col">
          <input 
                class="form-control col-3 price-input"
                placeholder="0"
                value="0"
                  type="text">
          <div class="input-group-append">
            <span class="input-group-text">₫</span>
          </div>
       </div>
      </div>

      <div class="form-group row mx-0">
        <label class="col-sm-2 mr-sm-1 pl-0">Type</label>
        <div class="input-group col">
          @foreach (var type in types) {
            var id = Guid.NewGuid().ToString("N");
            <div class="custom-control custom-radio custom-control-inline">
              <input required
                    type="radio"
                    value="@type.value"
                    id="@id"
                    class="custom-control-input"
                    name="type">

              <label class="custom-control-label" for="@id">@type.label</label>
            </div>
          }
        </div>
      </div>

      <div class="form-group row mx-0">
        <label class="col-sm-2 col-form-label mr-sm-1 pl-0">Time & Date</label>
        <div class="input-group col">
          <input required
                id="datetimepicker"
                value="@time.ToString(format)"
                class="form-control col-4 bg-white"
                placeholder="Choose time & date..."
                type="text">
        </div>
      </div>

    <div class="form-group row mx-0">
      <label class="col-sm-2 mr-sm-1 pl-0">Format</label>
      <div class="input-group col">
        @foreach (string name in Enum.GetNames(typeof(Room.Format))) {
          <div class="custom-control custom-radio custom-control-inline">
            <input required
                  type="radio"
                  value="@name"
                  id="@name"
                  class="custom-control-input"
                  name="format">

            <label class="custom-control-label"
                  for="@name">
              @name.Substring(1)
            </label>
          </div>
        }
      </div>
    </div>

      <div class="form-group">
        <button type="submit" class="btn btn-primary btn-lg btn-block">Save</button>
      </div>

    </form>
  </div>
</div>